{
    "language": "python",
    "commit_url": "https://github.com/nicolargo/glances/commit/d67fd8776383d010f110963ed81490dead1a5611",
    "commit_message": "Use dict view objects to avoid issue #758.",
    "commit_snapshots": {
        "glances/compat.py": [
            [
                "# -*- coding: utf-8 -*-\n",
                "#\n",
                "# This file is part of Glances.\n",
                "#\n",
                "# Copyright (C) 2015 Nicolargo <nicolas@nicolargo.com>\n",
                "#\n",
                "# Glances is free software; you can redistribute it and/or modify\n",
                "# it under the terms of the GNU Lesser General Public License as published by\n",
                "# the Free Software Foundation, either version 3 of the License, or\n",
                "# (at your option) any later version.\n",
                "#\n",
                "# Glances is distributed in the hope that it will be useful,\n",
                "# but WITHOUT ANY WARRANTY; without even the implied warranty of\n",
                "# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n",
                "# GNU Lesser General Public License for more details.\n",
                "#\n",
                "# You should have received a copy of the GNU Lesser General Public License\n",
                "# along with this program. If not, see <http://www.gnu.org/licenses/>.\n",
                "\n",
                "# flake8: noqa\n",
                "# pylint: skip-file\n",
                "\"\"\"Python 2/3 compatibility shims.\"\"\"\n",
                "\n"
            ],
            {
                "type": "insert",
                "before": [],
                "after": [
                    "import operator\n"
                ],
                "parent_version_range": {
                    "start": 23,
                    "end": 23
                },
                "child_version_range": {
                    "start": 23,
                    "end": 24
                },
                "control_flow": [],
                "structural_path": [],
                "idx": 0,
                "hunk_diff": "File: glances/compat.py\nCode:\n  ...\n20 20    # pylint: skip-file\n21 21    \"\"\"Python 2/3 compatibility shims.\"\"\"\n22 22    \n   23  + import operator\n23 24    import sys\n24 25    \n25 26    PY3 = sys.version_info[0] == 3\n       ...\n",
                "file_path": "glances/compat.py",
                "identifiers_before": [],
                "identifiers_after": [
                    "operator"
                ],
                "prefix": [
                    "# pylint: skip-file\n",
                    "\"\"\"Python 2/3 compatibility shims.\"\"\"\n",
                    "\n"
                ],
                "suffix": [
                    "import sys\n",
                    "\n",
                    "PY3 = sys.version_info[0] == 3\n"
                ],
                "base_dependency_callee": [],
                "base_dependency_caller": [],
                "head_dependency_callee": [],
                "head_dependency_caller": [
                    {
                        "to_hunk_idx": 1,
                        "detail": {
                            "identifier": "operator",
                            "position": {
                                "start": {
                                    "line": 23,
                                    "column": 7
                                },
                                "end": {
                                    "line": 23,
                                    "column": 15
                                }
                            },
                            "type": "identifier",
                            "kind": "import",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 0,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 1,
                        "detail": {
                            "identifier": "operator",
                            "position": {
                                "start": {
                                    "line": 23,
                                    "column": 7
                                },
                                "end": {
                                    "line": 23,
                                    "column": 15
                                }
                            },
                            "type": "identifier",
                            "kind": "import",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 0,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 1,
                        "detail": {
                            "identifier": "operator",
                            "position": {
                                "start": {
                                    "line": 23,
                                    "column": 7
                                },
                                "end": {
                                    "line": 23,
                                    "column": 15
                                }
                            },
                            "type": "identifier",
                            "kind": "import",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 0,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 2,
                        "detail": {
                            "identifier": "operator",
                            "position": {
                                "start": {
                                    "line": 23,
                                    "column": 7
                                },
                                "end": {
                                    "line": 23,
                                    "column": 15
                                }
                            },
                            "type": "identifier",
                            "kind": "import",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 0,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 2,
                        "detail": {
                            "identifier": "operator",
                            "position": {
                                "start": {
                                    "line": 23,
                                    "column": 7
                                },
                                "end": {
                                    "line": 23,
                                    "column": 15
                                }
                            },
                            "type": "identifier",
                            "kind": "import",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 0,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 2,
                        "detail": {
                            "identifier": "operator",
                            "position": {
                                "start": {
                                    "line": 23,
                                    "column": 7
                                },
                                "end": {
                                    "line": 23,
                                    "column": 15
                                }
                            },
                            "type": "identifier",
                            "kind": "import",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 0,
                            "dependency_checked": true
                        }
                    }
                ],
                "other_clones": []
            },
            [
                "import sys\n",
                "\n",
                "PY3 = sys.version_info[0] == 3\n",
                "\n",
                "if PY3:\n",
                "    import queue\n",
                "    from configparser import ConfigParser, NoOptionError, NoSectionError\n",
                "    from xmlrpc.client import Fault, ProtocolError, ServerProxy, Transport\n",
                "    from xmlrpc.server import SimpleXMLRPCRequestHandler, SimpleXMLRPCServer\n",
                "\n",
                "    input = input\n",
                "    range = range\n",
                "    map = map\n",
                "\n",
                "    text_type = str\n",
                "    binary_type = bytes\n",
                "\n"
            ],
            {
                "type": "insert",
                "before": [],
                "after": [
                    "    viewkeys = operator.methodcaller('keys')\n",
                    "    viewvalues = operator.methodcaller('values')\n",
                    "    viewitems = operator.methodcaller('items')\n",
                    "\n"
                ],
                "parent_version_range": {
                    "start": 40,
                    "end": 40
                },
                "child_version_range": {
                    "start": 41,
                    "end": 45
                },
                "control_flow": [
                    {
                        "type": "if_statement",
                        "statement": "if PY3:",
                        "start_line": 27,
                        "end_line": 93
                    }
                ],
                "structural_path": [],
                "idx": 1,
                "hunk_diff": "File: glances/compat.py\nCode:\n  ...\n37 38        text_type = str\n38 39        binary_type = bytes\n39 40    \n   41  +     viewkeys = operator.methodcaller('keys')\n   42  +     viewvalues = operator.methodcaller('values')\n   43  +     viewitems = operator.methodcaller('items')\n   44  + \n40 45        def iteritems(d):\n41 46            return iter(d.items())\n42 47    \n       ...\n",
                "file_path": "glances/compat.py",
                "identifiers_before": [],
                "identifiers_after": [
                    "methodcaller",
                    "operator",
                    "viewitems",
                    "viewkeys",
                    "viewvalues"
                ],
                "prefix": [
                    "    text_type = str\n",
                    "    binary_type = bytes\n",
                    "\n"
                ],
                "suffix": [
                    "    def iteritems(d):\n",
                    "        return iter(d.items())\n",
                    "\n"
                ],
                "base_dependency_callee": [],
                "base_dependency_caller": [],
                "head_dependency_callee": [
                    {
                        "to_hunk_idx": 0,
                        "detail": {
                            "identifier": "operator",
                            "position": {
                                "start": {
                                    "line": 41,
                                    "column": 15
                                },
                                "end": {
                                    "line": 41,
                                    "column": 23
                                }
                            },
                            "type": "identifier",
                            "kind": "unknown",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 1,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 0,
                        "detail": {
                            "identifier": "operator",
                            "position": {
                                "start": {
                                    "line": 42,
                                    "column": 17
                                },
                                "end": {
                                    "line": 42,
                                    "column": 25
                                }
                            },
                            "type": "identifier",
                            "kind": "unknown",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 1,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 0,
                        "detail": {
                            "identifier": "operator",
                            "position": {
                                "start": {
                                    "line": 43,
                                    "column": 16
                                },
                                "end": {
                                    "line": 43,
                                    "column": 24
                                }
                            },
                            "type": "identifier",
                            "kind": "unknown",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 1,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 2,
                        "detail": {
                            "identifier": "viewkeys",
                            "position": {
                                "start": {
                                    "line": 41,
                                    "column": 4
                                },
                                "end": {
                                    "line": 41,
                                    "column": 12
                                }
                            },
                            "type": "identifier",
                            "kind": "variable",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 1,
                            "dependency_checked": true
                        }
                    }
                ],
                "head_dependency_caller": [],
                "other_clones": [
                    2
                ]
            },
            [
                "    def iteritems(d):\n",
                "        return iter(d.items())\n",
                "\n",
                "    def iterkeys(d):\n",
                "        return iter(d.keys())\n",
                "\n",
                "    def itervalues(d):\n",
                "        return iter(d.values())\n",
                "\n",
                "    def u(s):\n",
                "        return s\n",
                "\n",
                "    def b(s):\n",
                "        if isinstance(s, binary_type):\n",
                "            return s\n",
                "        return s.encode('latin-1')\n",
                "\n",
                "    def nativestr(s):\n",
                "        if isinstance(s, text_type):\n",
                "            return s\n",
                "        return s.decode('utf-8', 'replace')\n",
                "else:\n",
                "    import Queue as queue\n",
                "    from itertools import imap as map\n",
                "    from ConfigParser import SafeConfigParser as ConfigParser, NoOptionError, NoSectionError\n",
                "    from SimpleXMLRPCServer import SimpleXMLRPCRequestHandler, SimpleXMLRPCServer\n",
                "    from xmlrpclib import Fault, ProtocolError, ServerProxy, Transport\n",
                "\n",
                "    input = raw_input\n",
                "    range = xrange\n",
                "    ConfigParser.read_file = ConfigParser.readfp\n",
                "\n",
                "    text_type = unicode\n",
                "    binary_type = str\n",
                "\n"
            ],
            {
                "type": "insert",
                "before": [],
                "after": [
                    "    viewkeys = operator.methodcaller('viewkeys')\n",
                    "    viewvalues = operator.methodcaller('viewvalues')\n",
                    "    viewitems = operator.methodcaller('viewitems')\n",
                    "\n"
                ],
                "parent_version_range": {
                    "start": 75,
                    "end": 75
                },
                "child_version_range": {
                    "start": 80,
                    "end": 84
                },
                "control_flow": [
                    {
                        "type": "if_statement",
                        "statement": "if PY3:",
                        "start_line": 27,
                        "end_line": 93
                    },
                    {
                        "type": "else_clause",
                        "statement": "else:",
                        "start_line": 61,
                        "end_line": 93
                    }
                ],
                "structural_path": [],
                "idx": 2,
                "hunk_diff": "File: glances/compat.py\nCode:\n  ...\n72 77        text_type = unicode\n73 78        binary_type = str\n74 79    \n   80  +     viewkeys = operator.methodcaller('viewkeys')\n   81  +     viewvalues = operator.methodcaller('viewvalues')\n   82  +     viewitems = operator.methodcaller('viewitems')\n   83  + \n75 84        def iteritems(d):\n76 85            return d.iteritems()\n77 86    \n       ...\n",
                "file_path": "glances/compat.py",
                "identifiers_before": [],
                "identifiers_after": [
                    "methodcaller",
                    "operator",
                    "viewitems",
                    "viewkeys",
                    "viewvalues"
                ],
                "prefix": [
                    "    text_type = unicode\n",
                    "    binary_type = str\n",
                    "\n"
                ],
                "suffix": [
                    "    def iteritems(d):\n",
                    "        return d.iteritems()\n",
                    "\n"
                ],
                "base_dependency_callee": [],
                "base_dependency_caller": [],
                "head_dependency_callee": [
                    {
                        "to_hunk_idx": 0,
                        "detail": {
                            "identifier": "operator",
                            "position": {
                                "start": {
                                    "line": 80,
                                    "column": 15
                                },
                                "end": {
                                    "line": 80,
                                    "column": 23
                                }
                            },
                            "type": "identifier",
                            "kind": "unknown",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 2,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 0,
                        "detail": {
                            "identifier": "operator",
                            "position": {
                                "start": {
                                    "line": 81,
                                    "column": 17
                                },
                                "end": {
                                    "line": 81,
                                    "column": 25
                                }
                            },
                            "type": "identifier",
                            "kind": "unknown",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 2,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 0,
                        "detail": {
                            "identifier": "operator",
                            "position": {
                                "start": {
                                    "line": 82,
                                    "column": 16
                                },
                                "end": {
                                    "line": 82,
                                    "column": 24
                                }
                            },
                            "type": "identifier",
                            "kind": "unknown",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 2,
                            "dependency_checked": true
                        }
                    }
                ],
                "head_dependency_caller": [
                    {
                        "to_hunk_idx": 1,
                        "detail": {
                            "identifier": "viewkeys",
                            "position": {
                                "start": {
                                    "line": 80,
                                    "column": 4
                                },
                                "end": {
                                    "line": 80,
                                    "column": 12
                                }
                            },
                            "type": "identifier",
                            "kind": "variable",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 2,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 4,
                        "detail": {
                            "identifier": "viewkeys",
                            "position": {
                                "start": {
                                    "line": 80,
                                    "column": 4
                                },
                                "end": {
                                    "line": 80,
                                    "column": 12
                                }
                            },
                            "type": "identifier",
                            "kind": "variable",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 2,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 5,
                        "detail": {
                            "identifier": "viewkeys",
                            "position": {
                                "start": {
                                    "line": 80,
                                    "column": 4
                                },
                                "end": {
                                    "line": 80,
                                    "column": 12
                                }
                            },
                            "type": "identifier",
                            "kind": "variable",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 2,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 3,
                        "detail": {
                            "identifier": "viewkeys",
                            "position": {
                                "start": {
                                    "line": 80,
                                    "column": 4
                                },
                                "end": {
                                    "line": 80,
                                    "column": 12
                                }
                            },
                            "type": "identifier",
                            "kind": "variable",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/compat.py",
                            "hunk_idx": 2,
                            "dependency_checked": true
                        }
                    }
                ],
                "other_clones": [
                    1
                ]
            },
            [
                "    def iteritems(d):\n",
                "        return d.iteritems()\n",
                "\n",
                "    def iterkeys(d):\n",
                "        return d.iterkeys()\n",
                "\n",
                "    def itervalues(d):\n",
                "        return d.itervalues()\n",
                "\n",
                "    def u(s):\n",
                "        return s.decode('utf-8')\n",
                "\n",
                "    def b(s):\n",
                "        return s\n",
                "\n",
                "    def nativestr(s):\n",
                "        if isinstance(s, binary_type):\n",
                "            return s\n",
                "        return s.encode('utf-8', 'replace')\n",
                "\n",
                "try:\n",
                "    # Python 2.6\n",
                "    from logutils.dictconfig import dictConfig\n",
                "except ImportError:\n",
                "    from logging.config import dictConfig"
            ]
        ],
        "glances/plugins/glances_plugin.py": [
            [
                "# -*- coding: utf-8 -*-\n",
                "#\n",
                "# This file is part of Glances.\n",
                "#\n",
                "# Copyright (C) 2015 Nicolargo <nicolas@nicolargo.com>\n",
                "#\n",
                "# Glances is free software; you can redistribute it and/or modify\n",
                "# it under the terms of the GNU Lesser General Public License as published by\n",
                "# the Free Software Foundation, either version 3 of the License, or\n",
                "# (at your option) any later version.\n",
                "#\n",
                "# Glances is distributed in the hope that it will be useful,\n",
                "# but WITHOUT ANY WARRANTY; without even the implied warranty of\n",
                "# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n",
                "# GNU Lesser General Public License for more details.\n",
                "#\n",
                "# You should have received a copy of the GNU Lesser General Public License\n",
                "# along with this program. If not, see <http://www.gnu.org/licenses/>.\n",
                "\n",
                "\"\"\"\n",
                "I am your father...\n",
                "\n",
                "...for all Glances plugins.\n",
                "\"\"\"\n",
                "\n",
                "import json\n",
                "from datetime import datetime\n",
                "from operator import itemgetter\n",
                "\n"
            ],
            {
                "type": "replace",
                "before": [
                    "from glances.compat import iterkeys, itervalues, map\n"
                ],
                "after": [
                    "from glances.compat import iterkeys, itervalues, map, viewkeys\n"
                ],
                "parent_version_range": {
                    "start": 29,
                    "end": 30
                },
                "child_version_range": {
                    "start": 29,
                    "end": 30
                },
                "control_flow": [],
                "structural_path": [],
                "idx": 3,
                "hunk_diff": "File: glances/plugins/glances_plugin.py\nCode:\n  ...\n26 26    from datetime import datetime\n27 27    from operator import itemgetter\n28 28    \n29     - from glances.compat import iterkeys, itervalues, map\n   29  + from glances.compat import iterkeys, itervalues, map, viewkeys\n30 30    from glances.actions import GlancesActions\n31 31    from glances.logger import logger\n32 32    from glances.logs import glances_logs\n       ...\n",
                "file_path": "glances/plugins/glances_plugin.py",
                "identifiers_before": [
                    "compat",
                    "glances",
                    "iterkeys",
                    "itervalues",
                    "map"
                ],
                "identifiers_after": [
                    "compat",
                    "glances",
                    "iterkeys",
                    "itervalues",
                    "map",
                    "viewkeys"
                ],
                "prefix": [
                    "from datetime import datetime\n",
                    "from operator import itemgetter\n",
                    "\n"
                ],
                "suffix": [
                    "from glances.actions import GlancesActions\n",
                    "from glances.logger import logger\n",
                    "from glances.logs import glances_logs\n"
                ],
                "base_dependency_callee": [],
                "base_dependency_caller": [],
                "head_dependency_callee": [
                    {
                        "to_hunk_idx": 2,
                        "detail": {
                            "identifier": "viewkeys",
                            "position": {
                                "start": {
                                    "line": 29,
                                    "column": 54
                                },
                                "end": {
                                    "line": 29,
                                    "column": 62
                                }
                            },
                            "type": "identifier",
                            "kind": "import",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/plugins/glances_plugin.py",
                            "hunk_idx": 3,
                            "dependency_checked": true
                        }
                    }
                ],
                "head_dependency_caller": [
                    {
                        "to_hunk_idx": 4,
                        "detail": {
                            "identifier": "viewkeys",
                            "position": {
                                "start": {
                                    "line": 29,
                                    "column": 54
                                },
                                "end": {
                                    "line": 29,
                                    "column": 62
                                }
                            },
                            "type": "identifier",
                            "kind": "import",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/plugins/glances_plugin.py",
                            "hunk_idx": 3,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 5,
                        "detail": {
                            "identifier": "viewkeys",
                            "position": {
                                "start": {
                                    "line": 29,
                                    "column": 54
                                },
                                "end": {
                                    "line": 29,
                                    "column": 62
                                }
                            },
                            "type": "identifier",
                            "kind": "import",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/plugins/glances_plugin.py",
                            "hunk_idx": 3,
                            "dependency_checked": true
                        }
                    }
                ],
                "other_clones": []
            },
            [
                "from glances.actions import GlancesActions\n",
                "from glances.logger import logger\n",
                "from glances.logs import glances_logs\n",
                "\n",
                "\n",
                "class GlancesPlugin(object):\n",
                "\n",
                "    \"\"\"Main class for Glances plugin.\"\"\"\n",
                "\n",
                "    def __init__(self, args=None, items_history_list=None):\n",
                "        \"\"\"Init the plugin of plugins class.\"\"\"\n",
                "        # Plugin name (= module name without glances_)\n",
                "        self.plugin_name = self.__class__.__module__[len('glances_'):]\n",
                "        # logger.debug(\"Init plugin %s\" % self.plugin_name)\n",
                "\n",
                "        # Init the args\n",
                "        self.args = args\n",
                "\n",
                "        # Init the default alignement (for curses)\n",
                "        self._align = 'left'\n",
                "\n",
                "        # Init the input method\n",
                "        self._input_method = 'local'\n",
                "        self._short_system_name = None\n",
                "\n",
                "        # Init the stats list\n",
                "        self.stats = None\n",
                "\n",
                "        # Init the history list\n",
                "        self.items_history_list = items_history_list\n",
                "        self.stats_history = self.init_stats_history()\n",
                "\n",
                "        # Init the limits dictionnary\n",
                "        self._limits = dict()\n",
                "\n",
                "        # Init the actions\n",
                "        self.actions = GlancesActions(args=args)\n",
                "\n",
                "        # Init the views\n",
                "        self.views = dict()\n",
                "\n",
                "    def exit(self):\n",
                "        \"\"\"Method to be called when Glances exit\"\"\"\n",
                "        logger.debug(\"Stop the {0} plugin\".format(self.plugin_name))\n",
                "\n",
                "    def __repr__(self):\n",
                "        \"\"\"Return the raw stats.\"\"\"\n",
                "        return self.stats\n",
                "\n",
                "    def __str__(self):\n",
                "        \"\"\"Return the human-readable stats.\"\"\"\n",
                "        return str(self.stats)\n",
                "\n",
                "    def get_key(self):\n",
                "        \"\"\"Return the key of the list.\"\"\"\n",
                "        return None\n",
                "\n",
                "    def add_item_history(self, key, value):\n",
                "        \"\"\"Add an new item (key, value) to the current history.\"\"\"\n",
                "        try:\n",
                "            self.stats_history[key].append(value)\n",
                "        except KeyError:\n",
                "            self.stats_history[key] = [value]\n",
                "\n",
                "    def init_stats_history(self):\n",
                "        \"\"\"Init the stats history (dict of list).\"\"\"\n",
                "        ret = None\n",
                "        if self.args is not None and self.args.enable_history and self.get_items_history_list() is not None:\n",
                "            init_list = [i['name'] for i in self.get_items_history_list()]\n",
                "            logger.debug(\"Stats history activated for plugin {0} (items: {1})\".format(self.plugin_name, init_list))\n",
                "            ret = {}\n",
                "        return ret\n",
                "\n",
                "    def reset_stats_history(self):\n",
                "        \"\"\"Reset the stats history (dict of list).\"\"\"\n",
                "        if self.args is not None and self.args.enable_history and self.get_items_history_list() is not None:\n",
                "            reset_list = [i['name'] for i in self.get_items_history_list()]\n",
                "            logger.debug(\"Reset history for plugin {0} (items: {1})\".format(self.plugin_name, reset_list))\n",
                "            self.stats_history = {}\n",
                "\n",
                "    def update_stats_history(self, item_name=''):\n",
                "        \"\"\"Update stats history.\"\"\"\n",
                "        if (self.stats and self.args is not None and\n",
                "                self.args.enable_history and\n",
                "                self.get_items_history_list() is not None):\n",
                "            self.add_item_history('date', datetime.now())\n",
                "            for i in self.get_items_history_list():\n",
                "                if isinstance(self.stats, list):\n",
                "                    # Stats is a list of data\n",
                "                    # Iter throught it (for exemple, iter throught network\n",
                "                    # interface)\n",
                "                    for l in self.stats:\n",
                "                        self.add_item_history(\n",
                "                            l[item_name] + '_' + i['name'], l[i['name']])\n",
                "                else:\n",
                "                    # Stats is not a list\n",
                "                    # Add the item to the history directly\n",
                "                    self.add_item_history(i['name'], self.stats[i['name']])\n",
                "\n",
                "    def get_stats_history(self):\n",
                "        \"\"\"Return the stats history.\"\"\"\n",
                "        return self.stats_history\n",
                "\n",
                "    def get_items_history_list(self):\n",
                "        \"\"\"Return the items history list.\"\"\"\n",
                "        return self.items_history_list\n",
                "\n",
                "    @property\n",
                "    def input_method(self):\n",
                "        \"\"\"Get the input method.\"\"\"\n",
                "        return self._input_method\n",
                "\n",
                "    @input_method.setter\n",
                "    def input_method(self, input_method):\n",
                "        \"\"\"Set the input method.\n",
                "\n",
                "        * local: system local grab (psutil or direct access)\n",
                "        * snmp: Client server mode via SNMP\n",
                "        * glances: Client server mode via Glances API\n",
                "        \"\"\"\n",
                "        self._input_method = input_method\n",
                "\n",
                "    @property\n",
                "    def short_system_name(self):\n",
                "        \"\"\"Get the short detected OS name (SNMP).\"\"\"\n",
                "        return self._short_system_name\n",
                "\n",
                "    @short_system_name.setter\n",
                "    def short_system_name(self, short_name):\n",
                "        \"\"\"Set the short detected OS name (SNMP).\"\"\"\n",
                "        self._short_system_name = short_name\n",
                "\n",
                "    def set_stats(self, input_stats):\n",
                "        \"\"\"Set the stats to input_stats.\"\"\"\n",
                "        self.stats = input_stats\n",
                "\n",
                "    def get_stats_snmp(self, bulk=False, snmp_oid=None):\n",
                "        \"\"\"Update stats using SNMP.\n",
                "\n",
                "        If bulk=True, use a bulk request instead of a get request.\n",
                "        \"\"\"\n",
                "        snmp_oid = snmp_oid or {}\n",
                "\n",
                "        from glances.snmp import GlancesSNMPClient\n",
                "\n",
                "        # Init the SNMP request\n",
                "        clientsnmp = GlancesSNMPClient(host=self.args.client,\n",
                "                                       port=self.args.snmp_port,\n",
                "                                       version=self.args.snmp_version,\n",
                "                                       community=self.args.snmp_community)\n",
                "\n",
                "        # Process the SNMP request\n",
                "        ret = {}\n",
                "        if bulk:\n",
                "            # Bulk request\n",
                "            snmpresult = clientsnmp.getbulk_by_oid(0, 10, itervalues(*snmp_oid))\n",
                "\n",
                "            if len(snmp_oid) == 1:\n",
                "                # Bulk command for only one OID\n",
                "                # Note: key is the item indexed but the OID result\n",
                "                for item in snmpresult:\n",
                "                    if iterkeys(item)[0].startswith(itervalues(snmp_oid)[0]):\n",
                "                        ret[iterkeys(snmp_oid)[0] + iterkeys(item)\n",
                "                            [0].split(itervalues(snmp_oid)[0])[1]] = itervalues(item)[0]\n",
                "            else:\n",
                "                # Build the internal dict with the SNMP result\n",
                "                # Note: key is the first item in the snmp_oid\n",
                "                index = 1\n",
                "                for item in snmpresult:\n",
                "                    item_stats = {}\n",
                "                    item_key = None\n",
                "                    for key in iterkeys(snmp_oid):\n",
                "                        oid = snmp_oid[key] + '.' + str(index)\n",
                "                        if oid in item:\n",
                "                            if item_key is None:\n",
                "                                item_key = item[oid]\n",
                "                            else:\n",
                "                                item_stats[key] = item[oid]\n",
                "                    if item_stats:\n",
                "                        ret[item_key] = item_stats\n",
                "                    index += 1\n",
                "        else:\n",
                "            # Simple get request\n",
                "            snmpresult = clientsnmp.get_by_oid(itervalues(*snmp_oid))\n",
                "\n",
                "            # Build the internal dict with the SNMP result\n",
                "            for key in iterkeys(snmp_oid):\n",
                "                ret[key] = snmpresult[snmp_oid[key]]\n",
                "\n",
                "        return ret\n",
                "\n",
                "    def get_raw(self):\n",
                "        \"\"\"Return the stats object.\"\"\"\n",
                "        return self.stats\n",
                "\n",
                "    def get_export(self):\n",
                "        \"\"\"Return the stats object to export.\"\"\"\n",
                "        return self.get_raw()\n",
                "\n",
                "    def get_stats(self):\n",
                "        \"\"\"Return the stats object in JSON format.\"\"\"\n",
                "        return json.dumps(self.stats)\n",
                "\n",
                "    def get_stats_item(self, item):\n",
                "        \"\"\"Return the stats object for a specific item in JSON format.\n",
                "\n",
                "        Stats should be a list of dict (processlist, network...)\n",
                "        \"\"\"\n",
                "        if isinstance(self.stats, dict):\n",
                "            try:\n",
                "                return json.dumps({item: self.stats[item]})\n",
                "            except KeyError as e:\n",
                "                logger.error(\"Cannot get item {0} ({1})\".format(item, e))\n",
                "                return None\n",
                "        elif isinstance(self.stats, list):\n",
                "            try:\n",
                "                # Source:\n",
                "                # http://stackoverflow.com/questions/4573875/python-get-index-of-dictionary-item-in-list\n",
                "                return json.dumps({item: map(itemgetter(item), self.stats)})\n",
                "            except (KeyError, ValueError) as e:\n",
                "                logger.error(\"Cannot get item {0} ({1})\".format(item, e))\n",
                "                return None\n",
                "        else:\n",
                "            return None\n",
                "\n",
                "    def get_stats_value(self, item, value):\n",
                "        \"\"\"Return the stats object for a specific item=value in JSON format.\n",
                "\n",
                "        Stats should be a list of dict (processlist, network...)\n",
                "        \"\"\"\n",
                "        if not isinstance(self.stats, list):\n",
                "            return None\n",
                "        else:\n",
                "            if value.isdigit():\n",
                "                value = int(value)\n",
                "            try:\n",
                "                return json.dumps({value: [i for i in self.stats if i[item] == value]})\n",
                "            except (KeyError, ValueError) as e:\n",
                "                logger.error(\n",
                "                    \"Cannot get item({0})=value({1}) ({2})\".format(item, value, e))\n",
                "                return None\n",
                "\n",
                "    def update_views(self):\n",
                "        \"\"\"Default builder fo the stats views.\n",
                "\n",
                "        The V of MVC\n",
                "        A dict of dict with the needed information to display the stats.\n",
                "        Example for the stat xxx:\n",
                "        'xxx': {'decoration': 'DEFAULT',\n",
                "                'optional': False,\n",
                "                'additional': False,\n",
                "                'splittable': False}\n",
                "        \"\"\"\n",
                "        ret = {}\n",
                "\n",
                "        if (isinstance(self.get_raw(), list) and\n",
                "                self.get_raw() is not None and\n",
                "                self.get_key() is not None):\n",
                "            # Stats are stored in a list of dict (ex: NETWORK, FS...)\n",
                "            for i in self.get_raw():\n",
                "                ret[i[self.get_key()]] = {}\n"
            ],
            {
                "type": "replace",
                "before": [
                    "                for key, _ in i.items():\n"
                ],
                "after": [
                    "                for key in viewkeys(i):\n"
                ],
                "parent_version_range": {
                    "start": 291,
                    "end": 292
                },
                "child_version_range": {
                    "start": 291,
                    "end": 292
                },
                "control_flow": [
                    {
                        "type": "if_statement",
                        "statement": "if (isinstance(self.get_raw(), list) and\n                self.get_raw() is not None and\n                self.get_key() is not None):",
                        "start_line": 285,
                        "end_line": 304
                    },
                    {
                        "type": "for_statement",
                        "statement": "for i in self.get_raw():",
                        "start_line": 289,
                        "end_line": 296
                    },
                    {
                        "type": "for_statement",
                        "statement": "for key, _ in i.items():",
                        "start_line": 291,
                        "end_line": 296
                    }
                ],
                "structural_path": [
                    {
                        "type": "class",
                        "name": "GlancesPlugin",
                        "signature": "class GlancesPlugin(object):",
                        "at_line": 35
                    },
                    {
                        "type": "function",
                        "name": "update_views",
                        "signature": "def update_views(self):",
                        "at_line": 272
                    }
                ],
                "idx": 4,
                "hunk_diff": "File: glances/plugins/glances_plugin.py\nCode:\n           class GlancesPlugin(object):\n               ...\n               def update_views(self):\n                   ...\n288 288                # Stats are stored in a list of dict (ex: NETWORK, FS...)\n289 289                for i in self.get_raw():\n290 290                    ret[i[self.get_key()]] = {}\n291      -                 for key, _ in i.items():\n    291  +                 for key in viewkeys(i):\n292 292                        value = {'decoration': 'DEFAULT',\n293 293                                 'optional': False,\n294 294                                 'additional': False,\n         ...\n",
                "file_path": "glances/plugins/glances_plugin.py",
                "identifiers_before": [
                    "_",
                    "i",
                    "items",
                    "key"
                ],
                "identifiers_after": [
                    "i",
                    "key",
                    "viewkeys"
                ],
                "prefix": [
                    "            # Stats are stored in a list of dict (ex: NETWORK, FS...)\n",
                    "            for i in self.get_raw():\n",
                    "                ret[i[self.get_key()]] = {}\n"
                ],
                "suffix": [
                    "                    value = {'decoration': 'DEFAULT',\n",
                    "                             'optional': False,\n",
                    "                             'additional': False,\n"
                ],
                "base_dependency_callee": [],
                "base_dependency_caller": [],
                "head_dependency_callee": [
                    {
                        "to_hunk_idx": 2,
                        "detail": {
                            "identifier": "viewkeys",
                            "position": {
                                "start": {
                                    "line": 291,
                                    "column": 27
                                },
                                "end": {
                                    "line": 291,
                                    "column": 35
                                }
                            },
                            "type": "identifier",
                            "kind": "unknown",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/plugins/glances_plugin.py",
                            "hunk_idx": 4,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 3,
                        "detail": {
                            "identifier": "viewkeys",
                            "position": {
                                "start": {
                                    "line": 291,
                                    "column": 27
                                },
                                "end": {
                                    "line": 291,
                                    "column": 35
                                }
                            },
                            "type": "identifier",
                            "kind": "unknown",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/plugins/glances_plugin.py",
                            "hunk_idx": 4,
                            "dependency_checked": true
                        }
                    }
                ],
                "head_dependency_caller": [],
                "other_clones": [
                    5
                ]
            },
            [
                "                    value = {'decoration': 'DEFAULT',\n",
                "                             'optional': False,\n",
                "                             'additional': False,\n",
                "                             'splittable': False}\n",
                "                    ret[i[self.get_key()]][key] = value\n",
                "        elif isinstance(self.get_raw(), dict) and self.get_raw() is not None:\n",
                "            # Stats are stored in a dict (ex: CPU, LOAD...)\n"
            ],
            {
                "type": "replace",
                "before": [
                    "            for key, _ in self.get_raw().items():\n"
                ],
                "after": [
                    "            for key in viewkeys(self.get_raw()):\n"
                ],
                "parent_version_range": {
                    "start": 299,
                    "end": 300
                },
                "child_version_range": {
                    "start": 299,
                    "end": 300
                },
                "control_flow": [
                    {
                        "type": "if_statement",
                        "statement": "if (isinstance(self.get_raw(), list) and\n                self.get_raw() is not None and\n                self.get_key() is not None):",
                        "start_line": 285,
                        "end_line": 304
                    },
                    {
                        "type": "for_statement",
                        "statement": "for key, _ in self.get_raw().items():",
                        "start_line": 299,
                        "end_line": 304
                    }
                ],
                "structural_path": [
                    {
                        "type": "class",
                        "name": "GlancesPlugin",
                        "signature": "class GlancesPlugin(object):",
                        "at_line": 35
                    },
                    {
                        "type": "function",
                        "name": "update_views",
                        "signature": "def update_views(self):",
                        "at_line": 272
                    }
                ],
                "idx": 5,
                "hunk_diff": "File: glances/plugins/glances_plugin.py\nCode:\n           class GlancesPlugin(object):\n               ...\n               def update_views(self):\n                   ...\n296 296                        ret[i[self.get_key()]][key] = value\n297 297            elif isinstance(self.get_raw(), dict) and self.get_raw() is not None:\n298 298                # Stats are stored in a dict (ex: CPU, LOAD...)\n299      -             for key, _ in self.get_raw().items():\n    299  +             for key in viewkeys(self.get_raw()):\n300 300                    value = {'decoration': 'DEFAULT',\n301 301                             'optional': False,\n302 302                             'additional': False,\n         ...\n",
                "file_path": "glances/plugins/glances_plugin.py",
                "identifiers_before": [
                    "_",
                    "get_raw",
                    "items",
                    "key",
                    "self"
                ],
                "identifiers_after": [
                    "get_raw",
                    "key",
                    "self",
                    "viewkeys"
                ],
                "prefix": [
                    "                    ret[i[self.get_key()]][key] = value\n",
                    "        elif isinstance(self.get_raw(), dict) and self.get_raw() is not None:\n",
                    "            # Stats are stored in a dict (ex: CPU, LOAD...)\n"
                ],
                "suffix": [
                    "                value = {'decoration': 'DEFAULT',\n",
                    "                         'optional': False,\n",
                    "                         'additional': False,\n"
                ],
                "base_dependency_callee": [],
                "base_dependency_caller": [],
                "head_dependency_callee": [
                    {
                        "to_hunk_idx": 2,
                        "detail": {
                            "identifier": "viewkeys",
                            "position": {
                                "start": {
                                    "line": 299,
                                    "column": 23
                                },
                                "end": {
                                    "line": 299,
                                    "column": 31
                                }
                            },
                            "type": "identifier",
                            "kind": "unknown",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/plugins/glances_plugin.py",
                            "hunk_idx": 5,
                            "dependency_checked": true
                        }
                    },
                    {
                        "to_hunk_idx": 3,
                        "detail": {
                            "identifier": "viewkeys",
                            "position": {
                                "start": {
                                    "line": 299,
                                    "column": 23
                                },
                                "end": {
                                    "line": 299,
                                    "column": 31
                                }
                            },
                            "type": "identifier",
                            "kind": "unknown",
                            "abs_file_path": "/data2/chenyan/repos/glances/glances/plugins/glances_plugin.py",
                            "hunk_idx": 5,
                            "dependency_checked": true
                        }
                    }
                ],
                "head_dependency_caller": [],
                "other_clones": [
                    4
                ]
            },
            [
                "                value = {'decoration': 'DEFAULT',\n",
                "                         'optional': False,\n",
                "                         'additional': False,\n",
                "                         'splittable': False}\n",
                "                ret[key] = value\n",
                "\n",
                "        self.views = ret\n",
                "\n",
                "        return self.views\n",
                "\n",
                "    def set_views(self, input_views):\n",
                "        \"\"\"Set the views to input_views.\"\"\"\n",
                "        self.views = input_views\n",
                "\n",
                "    def get_views(self, item=None, key=None, option=None):\n",
                "        \"\"\"Return the views object.\n",
                "\n",
                "        If key is None, return all the view for the current plugin\n",
                "        else if option is None return the view for the specific key (all option)\n",
                "        else return the view fo the specific key/option\n",
                "\n",
                "        Specify item if the stats are stored in a dict of dict (ex: NETWORK, FS...)\n",
                "        \"\"\"\n",
                "        if item is None:\n",
                "            item_views = self.views\n",
                "        else:\n",
                "            item_views = self.views[item]\n",
                "\n",
                "        if key is None:\n",
                "            return item_views\n",
                "        else:\n",
                "            if option is None:\n",
                "                return item_views[key]\n",
                "            else:\n",
                "                return item_views[key][option]\n",
                "\n",
                "    def load_limits(self, config):\n",
                "        \"\"\"Load limits from the configuration file, if it exists.\"\"\"\n",
                "        if (hasattr(config, 'has_section') and\n",
                "                config.has_section(self.plugin_name)):\n",
                "            for level, _ in config.items(self.plugin_name):\n",
                "                # Read limits\n",
                "                limit = '_'.join([self.plugin_name, level])\n",
                "                try:\n",
                "                    self._limits[limit] = config.get_float_value(self.plugin_name, level)\n",
                "                except ValueError:\n",
                "                    self._limits[limit] = config.get_value(self.plugin_name, level).split(\",\")\n",
                "                logger.debug(\"Load limit: {0} = {1}\".format(limit, self._limits[limit]))\n",
                "\n",
                "    @property\n",
                "    def limits(self):\n",
                "        \"\"\"Return the limits object.\"\"\"\n",
                "        return self._limits\n",
                "\n",
                "    @limits.setter\n",
                "    def limits(self, input_limits):\n",
                "        \"\"\"Set the limits to input_limits.\"\"\"\n",
                "        self._limits = input_limits\n",
                "\n",
                "    def get_alert(self, current=0, minimum=0, maximum=100, header=\"\", log=False):\n",
                "        \"\"\"Return the alert status relative to a current value.\n",
                "\n",
                "        Use this function for minor stats.\n",
                "\n",
                "        If current < CAREFUL of max then alert = OK\n",
                "        If current > CAREFUL of max then alert = CAREFUL\n",
                "        If current > WARNING of max then alert = WARNING\n",
                "        If current > CRITICAL of max then alert = CRITICAL\n",
                "\n",
                "        If defined 'header' is added between the plugin name and the status.\n",
                "        Only useful for stats with several alert status.\n",
                "\n",
                "        If log=True than add log if necessary\n",
                "        elif log=False than do not log\n",
                "        elig log=None than apply the config given in the conf file\n",
                "        \"\"\"\n",
                "        # Compute the %\n",
                "        try:\n",
                "            value = (current * 100) / maximum\n",
                "        except ZeroDivisionError:\n",
                "            return 'DEFAULT'\n",
                "        except TypeError:\n",
                "            return 'DEFAULT'\n",
                "\n",
                "        # Build the stat_name = plugin_name + header\n",
                "        if header == \"\":\n",
                "            stat_name = self.plugin_name\n",
                "        else:\n",
                "            stat_name = self.plugin_name + '_' + header\n",
                "\n",
                "        # Manage limits\n",
                "        ret = 'OK'\n",
                "        try:\n",
                "            if value > self.__get_limit('critical', stat_name=stat_name):\n",
                "                ret = 'CRITICAL'\n",
                "            elif value > self.__get_limit('warning', stat_name=stat_name):\n",
                "                ret = 'WARNING'\n",
                "            elif value > self.__get_limit('careful', stat_name=stat_name):\n",
                "                ret = 'CAREFUL'\n",
                "            elif current < minimum:\n",
                "                ret = 'CAREFUL'\n",
                "        except KeyError:\n",
                "            return 'DEFAULT'\n",
                "\n",
                "        # Manage log\n",
                "        log_str = \"\"\n",
                "        if self.__get_limit_log(stat_name=stat_name, default_action=log):\n",
                "            # Add _LOG to the return string\n",
                "            # So stats will be highlited with a specific color\n",
                "            log_str = \"_LOG\"\n",
                "            # Add the log to the list\n",
                "            glances_logs.add(ret, stat_name.upper(), value, [])\n",
                "\n",
                "        # Manage action\n",
                "        # Here is a command line for the current trigger ?\n",
                "        try:\n",
                "            command = self.__get_limit_action(ret.lower(), stat_name=stat_name)\n",
                "        except KeyError:\n",
                "            # Reset the trigger\n",
                "            self.actions.set(stat_name, ret.lower())\n",
                "        else:\n",
                "            # A command line is available for the current alert, run it\n",
                "            # Build the {{mustache}} dictionnary\n",
                "            if isinstance(self.stats, list):\n",
                "                # If the stats are stored in a list of dict (fs plugin for exemple)\n",
                "                # Return the dict for the current header\n",
                "                mustache_dict = {}\n",
                "                for item in self.stats:\n",
                "                    if item[self.get_key()] == header:\n",
                "                        mustache_dict = item\n",
                "                        break\n",
                "            else:\n",
                "                # Use the stats dict\n",
                "                mustache_dict = self.stats\n",
                "            # Run the action\n",
                "            self.actions.run(\n",
                "                stat_name, ret.lower(), command, mustache_dict=mustache_dict)\n",
                "\n",
                "        # Default is ok\n",
                "        return ret + log_str\n",
                "\n",
                "    def get_alert_log(self, current=0, minimum=0, maximum=100, header=\"\"):\n",
                "        \"\"\"Get the alert log.\"\"\"\n",
                "        return self.get_alert(current, minimum, maximum, header, log=True)\n",
                "\n",
                "    def __get_limit(self, criticity, stat_name=\"\"):\n",
                "        \"\"\"Return the limit value for the alert.\"\"\"\n",
                "        # Get the limit for stat + header\n",
                "        # Exemple: network_wlan0_rx_careful\n",
                "        try:\n",
                "            limit = self._limits[stat_name + '_' + criticity]\n",
                "        except KeyError:\n",
                "            # Try fallback to plugin default limit\n",
                "            # Exemple: network_careful\n",
                "            limit = self._limits[self.plugin_name + '_' + criticity]\n",
                "\n",
                "        # Return the limit\n",
                "        return limit\n",
                "\n",
                "    def __get_limit_action(self, criticity, stat_name=\"\"):\n",
                "        \"\"\"Return the action for the alert.\"\"\"\n",
                "        # Get the action for stat + header\n",
                "        # Exemple: network_wlan0_rx_careful_action\n",
                "        try:\n",
                "            ret = self._limits[stat_name + '_' + criticity + '_action']\n",
                "        except KeyError:\n",
                "            # Try fallback to plugin default limit\n",
                "            # Exemple: network_careful_action\n",
                "            ret = self._limits[self.plugin_name + '_' + criticity + '_action']\n",
                "\n",
                "        # Return the action list\n",
                "        return ret\n",
                "\n",
                "    def __get_limit_log(self, stat_name, default_action=False):\n",
                "        \"\"\"Return the log tag for the alert.\"\"\"\n",
                "        # Get the log tag for stat + header\n",
                "        # Exemple: network_wlan0_rx_log\n",
                "        try:\n",
                "            log_tag = self._limits[stat_name + '_log']\n",
                "        except KeyError:\n",
                "            # Try fallback to plugin default log\n",
                "            # Exemple: network_log\n",
                "            try:\n",
                "                log_tag = self._limits[self.plugin_name + '_log']\n",
                "            except KeyError:\n",
                "                # By defaukt, log are disabled\n",
                "                return default_action\n",
                "\n",
                "        # Return the action list\n",
                "        return log_tag[0].lower() == 'true'\n",
                "\n",
                "    def get_conf_value(self, value, header=\"\", plugin_name=None):\n",
                "        \"\"\"Return the configuration (header_) value for the current plugin.\n",
                "\n",
                "        ...or the one given by the plugin_name var.\n",
                "        \"\"\"\n",
                "        if plugin_name is None:\n",
                "            # If not default use the current plugin name\n",
                "            plugin_name = self.plugin_name\n",
                "\n",
                "        if header != \"\":\n",
                "            # Add the header\n",
                "            plugin_name = plugin_name + '_' + header\n",
                "\n",
                "        try:\n",
                "            return self._limits[plugin_name + '_' + value]\n",
                "        except KeyError:\n",
                "            return []\n",
                "\n",
                "    def is_hide(self, value, header=\"\"):\n",
                "        \"\"\"Return True if the value is in the hide configuration list.\"\"\"\n",
                "        return value in self.get_conf_value('hide', header=header)\n",
                "\n",
                "    def has_alias(self, header):\n",
                "        \"\"\"Return the alias name for the relative header or None if nonexist.\"\"\"\n",
                "        try:\n",
                "            return self._limits[self.plugin_name + '_' + header + '_' + 'alias'][0]\n",
                "        except (KeyError, IndexError):\n",
                "            return None\n",
                "\n",
                "    def msg_curse(self, args=None, max_width=None):\n",
                "        \"\"\"Return default string to display in the curse interface.\"\"\"\n",
                "        return [self.curse_add_line(str(self.stats))]\n",
                "\n",
                "    def get_stats_display(self, args=None, max_width=None):\n",
                "        \"\"\"Return a dict with all the information needed to display the stat.\n",
                "\n",
                "        key     | description\n",
                "        ----------------------------\n",
                "        display | Display the stat (True or False)\n",
                "        msgdict | Message to display (list of dict [{ 'msg': msg, 'decoration': decoration } ... ])\n",
                "        align   | Message position\n",
                "        \"\"\"\n",
                "        display_curse = False\n",
                "\n",
                "        if hasattr(self, 'display_curse'):\n",
                "            display_curse = self.display_curse\n",
                "        if hasattr(self, 'align'):\n",
                "            align_curse = self._align\n",
                "\n",
                "        if max_width is not None:\n",
                "            ret = {'display': display_curse,\n",
                "                   'msgdict': self.msg_curse(args, max_width=max_width),\n",
                "                   'align': align_curse}\n",
                "        else:\n",
                "            ret = {'display': display_curse,\n",
                "                   'msgdict': self.msg_curse(args),\n",
                "                   'align': align_curse}\n",
                "\n",
                "        return ret\n",
                "\n",
                "    def curse_add_line(self, msg, decoration=\"DEFAULT\",\n",
                "                       optional=False, additional=False,\n",
                "                       splittable=False):\n",
                "        \"\"\"Return a dict with.\n",
                "\n",
                "        Where:\n",
                "            msg: string\n",
                "            decoration:\n",
                "                DEFAULT: no decoration\n",
                "                UNDERLINE: underline\n",
                "                BOLD: bold\n",
                "                TITLE: for stat title\n",
                "                PROCESS: for process name\n",
                "                STATUS: for process status\n",
                "                NICE: for process niceness\n",
                "                CPU_TIME: for process cpu time\n",
                "                OK: Value is OK and non logged\n",
                "                OK_LOG: Value is OK and logged\n",
                "                CAREFUL: Value is CAREFUL and non logged\n",
                "                CAREFUL_LOG: Value is CAREFUL and logged\n",
                "                WARNING: Value is WARINING and non logged\n",
                "                WARNING_LOG: Value is WARINING and logged\n",
                "                CRITICAL: Value is CRITICAL and non logged\n",
                "                CRITICAL_LOG: Value is CRITICAL and logged\n",
                "            optional: True if the stat is optional (display only if space is available)\n",
                "            additional: True if the stat is additional (display only if space is available after optional)\n",
                "            spittable: Line can be splitted to fit on the screen (default is not)\n",
                "        \"\"\"\n",
                "        return {'msg': msg, 'decoration': decoration, 'optional': optional, 'additional': additional, 'splittable': splittable}\n",
                "\n",
                "    def curse_new_line(self):\n",
                "        \"\"\"Go to a new line.\"\"\"\n",
                "        return self.curse_add_line('\\n')\n",
                "\n",
                "    @property\n",
                "    def align(self):\n",
                "        \"\"\"Get the curse align.\"\"\"\n",
                "        return self._align\n",
                "\n",
                "    @align.setter\n",
                "    def align(self, value):\n",
                "        \"\"\"Set the curse align.\n",
                "\n",
                "        value: left, right, bottom.\n",
                "        \"\"\"\n",
                "        self._align = value\n",
                "\n",
                "    def auto_unit(self, number, low_precision=False):\n",
                "        \"\"\"Make a nice human-readable string out of number.\n",
                "\n",
                "        Number of decimal places increases as quantity approaches 1.\n",
                "\n",
                "        examples:\n",
                "        CASE: 613421788        RESULT:       585M low_precision:       585M\n",
                "        CASE: 5307033647       RESULT:      4.94G low_precision:       4.9G\n",
                "        CASE: 44968414685      RESULT:      41.9G low_precision:      41.9G\n",
                "        CASE: 838471403472     RESULT:       781G low_precision:       781G\n",
                "        CASE: 9683209690677    RESULT:      8.81T low_precision:       8.8T\n",
                "        CASE: 1073741824       RESULT:      1024M low_precision:      1024M\n",
                "        CASE: 1181116006       RESULT:      1.10G low_precision:       1.1G\n",
                "\n",
                "        'low_precision=True' returns less decimal places potentially\n",
                "        sacrificing precision for more readability.\n",
                "        \"\"\"\n",
                "        symbols = ('K', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y')\n",
                "        prefix = {\n",
                "            'Y': 1208925819614629174706176,\n",
                "            'Z': 1180591620717411303424,\n",
                "            'E': 1152921504606846976,\n",
                "            'P': 1125899906842624,\n",
                "            'T': 1099511627776,\n",
                "            'G': 1073741824,\n",
                "            'M': 1048576,\n",
                "            'K': 1024\n",
                "        }\n",
                "\n",
                "        for symbol in reversed(symbols):\n",
                "            value = float(number) / prefix[symbol]\n",
                "            if value > 1:\n",
                "                decimal_precision = 0\n",
                "                if value < 10:\n",
                "                    decimal_precision = 2\n",
                "                elif value < 100:\n",
                "                    decimal_precision = 1\n",
                "                if low_precision:\n",
                "                    if symbol in 'MK':\n",
                "                        decimal_precision = 0\n",
                "                    else:\n",
                "                        decimal_precision = min(1, decimal_precision)\n",
                "                elif symbol in 'K':\n",
                "                    decimal_precision = 0\n",
                "                return '{0:.{decimal}f}{symbol}'.format(\n",
                "                    value, decimal=decimal_precision, symbol=symbol)\n",
                "        return '{0!s}'.format(number)\n",
                "\n",
                "    def _log_result_decorator(fct):\n",
                "        \"\"\"Log (DEBUG) the result of the function fct.\"\"\"\n",
                "        def wrapper(*args, **kw):\n",
                "            ret = fct(*args, **kw)\n",
                "            logger.debug(\"%s %s %s return %s\" % (\n",
                "                args[0].__class__.__name__,\n",
                "                args[0].__class__.__module__[len('glances_'):],\n",
                "                fct.__name__, ret))\n",
                "            return ret\n",
                "        return wrapper\n",
                "\n",
                "    # Mandatory to call the decorator in childs' classes\n",
                "    _log_result_decorator = staticmethod(_log_result_decorator)"
            ]
        ]
    },
    "edit_order": [
        [
            0,
            1,
            2,
            3,
            4,
            5
        ],
        [
            0,
            2,
            1,
            3,
            4,
            5
        ]
    ],
    "partial_orders": [
        {
            "edit_hunk_pair": [
                1,
                0
            ],
            "edit_order": "bi-directional",
            "reason": "Import-use",
            "scenario of 0 -> 1": "edit 0 uses the variable `operator` before it was imported in edit 1.",
            "scenario of 1 -> 0": "edit 1 imports the variable `operator` first, before it was used in edit 0."
        },
        {
            "edit_hunk_pair": [
                2,
                0
            ],
            "edit_order": "bi-directional",
            "reason": "Import-use",
            "scenario of 0 -> 1": "edit 0 uses the variable `operator` before it was imported in edit 1.",
            "scenario of 1 -> 0": "edit 1 imports the variable `operator` first, before it was used in edit 0."
        },
        {
            "edit_hunk_pair": [
                1,
                2
            ],
            "edit_order": "bi-directional",
            "reason": "clone",
            "scenario of 0 -> 1": "edit 0 updates the logic first, then edit 1 updates the logic.",
            "scenario of 1 -> 0": "edit 1 updates the logic first, then edit 0 updates the logic."
        },
        {
            "edit_hunk_pair": [
                1,
                3
            ],
            "edit_order": "bi-directional",
            "reason": "Variable dependency",
            "scenario of 0 -> 1": "edit 0 defines the variable `viewKeys` before it was used in edit 1.",
            "scenario of 1 -> 0": "edit 1 uses the variable `viewKeys` before it was defined in edit 0."
        },
        {
            "edit_hunk_pair": [
                1,
                4
            ],
            "edit_order": "bi-directional",
            "reason": "Variable dependency",
            "scenario of 0 -> 1": "edit 0 defines the variable `viewKeys` before it was used in edit 1.",
            "scenario of 1 -> 0": "edit 1 uses the variable `viewKeys` before it was defined in edit 0."
        },
        {
            "edit_hunk_pair": [
                1,
                5
            ],
            "edit_order": "bi-directional",
            "reason": "Variable dependency",
            "scenario of 0 -> 1": "edit 0 defines the variable `viewKeys` before it was used in edit 1.",
            "scenario of 1 -> 0": "edit 1 uses the variable `viewKeys` before it was defined in edit 0."
        },
        {
            "edit_hunk_pair": [
                2,
                3
            ],
            "edit_order": "bi-directional",
            "reason": "Variable dependency",
            "scenario of 0 -> 1": "edit 0 defines the variable `viewKeys` before it was used in edit 1.",
            "scenario of 1 -> 0": "edit 1 uses the variable `viewKeys` before it was defined in edit 0."
        },
        {
            "edit_hunk_pair": [
                2,
                4
            ],
            "edit_order": "bi-directional",
            "reason": "Variable dependency",
            "scenario of 0 -> 1": "edit 0 defines the variable `viewKeys` before it was used in edit 1.",
            "scenario of 1 -> 0": "edit 1 uses the variable `viewKeys` before it was defined in edit 0."
        },
        {
            "edit_hunk_pair": [
                2,
                5
            ],
            "edit_order": "bi-directional",
            "reason": "Variable dependency",
            "scenario of 0 -> 1": "edit 0 defines the variable `viewKeys` before it was used in edit 1.",
            "scenario of 1 -> 0": "edit 1 uses the variable `viewKeys` before it was defined in edit 0."
        },
        {
            "edit_hunk_pair": [
                4,
                3
            ],
            "edit_order": "bi-directional",
            "reason": "Import-use",
            "scenario of 0 -> 1": "edit 0 uses `viewKey` before it was imported by edit 1.",
            "scenario of 1 -> 0": "edit 1 imports `viewKey` first, then it was used by edit 1."
        },
        {
            "edit_hunk_pair": [
                5,
                3
            ],
            "edit_order": "bi-directional",
            "reason": "Import-use",
            "scenario of 0 -> 1": "edit 0 uses `viewKey` before it was imported by edit 1.",
            "scenario of 1 -> 0": "edit 1 imports `viewKey` first, then it was used by edit 1."
        },
        {
            "edit_hunk_pair": [
                4,
                5
            ],
            "edit_order": "bi-directional",
            "reason": "positional",
            "scenario of 0 -> 1": "edit 0 updates the logic first, follow by edit 1.",
            "scenario of 1 -> 0": "edit 1 updates the logic first, follow by edit 0."
        }
    ]
}